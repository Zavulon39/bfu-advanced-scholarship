{"version":3,"sources":["store/CompanyContext.tsx","store/RequestContext.tsx","store/AuthContext.tsx","pages/admin/AdminAuthPage.tsx","components/Header.tsx","pages/admin/AdminCompanyListPage.tsx","pages/admin/AdminRequestDetailPage.tsx","pages/admin/AdminRequestListPage.tsx","pages/admin/NotificationListPage.tsx","pages/student/StudentAuthPage.tsx","pages/student/StudentCompanyListPage.tsx","pages/student/StudentRequestDetailPage.tsx","pages/student/StudentSubRequestDetailPage.tsx","App.tsx","hooks/useRouter.tsx","index.tsx"],"names":["initialState","companies","fetchCompanies","deleteCompany","createCompany","editCompany","reducer","state","action","type","payload","id","Date","now","name","startDate","endDate","map","c","filter","CompanyContext","createContext","CompanyProvider","children","useReducer","dispatch","Provider","value","e","requests","nominations","statuses","notifications","fetchRequests","setPoints","setExamPoints","addComment","addRequest","setStudentExamPoints","setStudentData","setStatus","addRow","addNotification","removeNotification","r","subRequests","find","sr","subRId","tables","body","rowIdx","points","point","examPoints","comments","push","imageUrl","text","sendedDate","data","dataIdx","status","header","n","RequestContext","RequestProvider","studentId","companyId","company","fio","nomination","createdDate","educationForm","phone","financingSource","institute","level","direction","course","percent","Array","from","Set","learningPlans","avatarUrl","role","login","AuthContext","AuthProvider","AdminAuthPage","useContext","useState","password","authData","setAuthData","className","style","position","top","left","onChange","event","prev","target","htmlFor","float","onClick","AdminHeader","navbar","useRef","tooltipRef1","tooltipRef2","title","setTitle","useEffect","M","Sidenav","init","current","Tooltip","useLayoutEffect","updateSize","window","innerWidth","addEventListener","removeEventListener","to","href","ref","marginBottom","src","objectFit","width","height","StudentHeader","AdminCompanyListPage","createData","setCreateData","undefined","editData","setEditData","createModalRef","editModalRef","startCreateDatePickerRef","endCreateDatePickerRef","startEditDatePickerRef","endEditDatePickerRef","inputRef1","length","Modal","Datepicker","container","document","querySelector","format","onSelect","selectedDate","getInstance","open","toLocaleDateString","setTimeout","focus","editClickHandler","marginLeft","toast","html","classes","deleteClickHandler","marginTop","close","AdminRequestDetailPage","useParams","id1","id2","pointRef","messageRef","btnRef","request","Number","subRequest","sb","message","setMessage","CharacterCounter","querySelectorAll","forEach","el","url","getAttribute","FloatingActionButton","toolbarEnabled","onKeyPress","test","key","preventDefault","maxWidth","h","hIdx","rIdx","b","bIdx","URL","idx","alt","toLocaleString","AdminRequestListPage","qs","setQs","setFio","select1","select2","select3","FormSelect","s","toLowerCase","indexOf","company_cond","nomination_cond","status_cond","NotificationListPage","removeHandler","StudentAuthPage","StudentCompanyListPage","companyData","setCompanyData","nominationRef","planRef","createClickHandler","p","multiple","select","opt","result","options","i","iLen","selected","getSelectValues","join","StudentRequestDetailPage","navigate","useNavigate","display","flexDirection","fontSize","StudentSubRequestDetailPage","App","routes","path","element","useRouter","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.e9e96ed0.chunk.js","sourcesContent":["import React, { createContext, ReactElement, useReducer } from 'react'\r\nimport { ICompanyState, IAction, ICompany } from '../types/companies'\r\n\r\nconst initialState: ICompanyState = {\r\n  companies: [],\r\n  fetchCompanies: () => {},\r\n  deleteCompany: () => {},\r\n  createCompany: () => {},\r\n  editCompany: () => {},\r\n}\r\n\r\ninterface IProps {\r\n  children?: ReactElement\r\n}\r\n\r\nconst reducer = (state = initialState, action: IAction): ICompanyState => {\r\n  switch (action.type) {\r\n    case 'SET_COMPANIES':\r\n      return { ...state, companies: action.payload }\r\n    case 'CREATE_COMPANY':\r\n      return {\r\n        ...state,\r\n        companies: [\r\n          ...state.companies,\r\n          {\r\n            id: Date.now(),\r\n            name: action.payload.name,\r\n            startDate: action.payload.startDate,\r\n            endDate: action.payload.endDate,\r\n          },\r\n        ],\r\n      }\r\n    case 'EDIT_COMPANY':\r\n      return {\r\n        ...state,\r\n        companies: state.companies.map(c => {\r\n          if (c.id == action.payload.id) {\r\n            c.name = action.payload.name\r\n            c.startDate = action.payload.startDate\r\n            c.endDate = action.payload.endDate\r\n          }\r\n          return c\r\n        }),\r\n      }\r\n    case 'DELETE_COMPANY':\r\n      return {\r\n        ...state,\r\n        companies: state.companies.filter(c => c.id !== action.payload),\r\n      }\r\n    default:\r\n      return state\r\n  }\r\n}\r\n\r\nexport const CompanyContext = createContext(initialState)\r\n\r\nexport const CompanyProvider = ({ children }: IProps) => {\r\n  const [state, dispatch] = useReducer(reducer, initialState)\r\n\r\n  const fetchCompanies = () => {\r\n    try {\r\n      // fetch\r\n\r\n      const payload: ICompany[] = [\r\n        {\r\n          id: 1,\r\n          name: 'Весна 2019',\r\n          startDate: new Date(),\r\n          endDate: new Date(),\r\n        },\r\n        {\r\n          id: 2,\r\n          name: 'Весна 2020',\r\n          startDate: new Date(),\r\n          endDate: new Date(),\r\n        },\r\n      ]\r\n\r\n      dispatch({\r\n        type: 'SET_COMPANIES',\r\n        payload,\r\n      })\r\n    } catch (e) {\r\n      dispatch({\r\n        type: 'SET_COMPANIES',\r\n        payload: [\r\n          {\r\n            id: 1,\r\n            name: `Ошибка при получении данных: ${e}`,\r\n            startDate: new Date(),\r\n            endDate: new Date(),\r\n          },\r\n        ],\r\n      })\r\n    }\r\n  }\r\n  const deleteCompany = (id: number) => {\r\n    // fetch\r\n    dispatch({\r\n      type: 'DELETE_COMPANY',\r\n      payload: id,\r\n    })\r\n  }\r\n  const createCompany = (name: string, startDate: Date, endDate: Date) => {\r\n    // fetch\r\n    // get id from fetch\r\n    dispatch({\r\n      type: 'CREATE_COMPANY',\r\n      payload: {\r\n        name,\r\n        startDate,\r\n        endDate,\r\n      },\r\n    })\r\n  }\r\n  const editCompany = (\r\n    id: number,\r\n    name: string,\r\n    startDate: Date,\r\n    endDate: Date\r\n  ) => {\r\n    // fetch\r\n    dispatch({\r\n      type: 'EDIT_COMPANY',\r\n      payload: {\r\n        id,\r\n        name,\r\n        startDate,\r\n        endDate,\r\n      },\r\n    })\r\n  }\r\n\r\n  return (\r\n    <CompanyContext.Provider\r\n      value={{\r\n        ...state,\r\n        fetchCompanies,\r\n        createCompany,\r\n        deleteCompany,\r\n        editCompany,\r\n      }}\r\n    >\r\n      {children}\r\n    </CompanyContext.Provider>\r\n  )\r\n}\r\n","import React, { createContext, ReactElement, useReducer } from 'react'\r\nimport { IAction } from '../types/companies'\r\nimport { IRequestState, IRequest, IComment } from '../types/request'\r\n\r\nconst initialState: IRequestState = {\r\n  requests: [],\r\n  nominations: [],\r\n  statuses: [],\r\n  companies: [],\r\n  notifications: [],\r\n  fetchRequests: () => {},\r\n  setPoints: () => {},\r\n  setExamPoints: () => {},\r\n  addComment: () => {},\r\n  addRequest: () => {},\r\n  setStudentExamPoints: () => {},\r\n  setStudentData: () => {},\r\n  setStatus: () => {},\r\n  addRow: () => {},\r\n  addNotification: () => {},\r\n  removeNotification: () => {},\r\n}\r\n\r\ninterface IProps {\r\n  children?: ReactElement\r\n}\r\n\r\nconst reducer = (\r\n  state = initialState,\r\n  { payload, type }: IAction\r\n): IRequestState => {\r\n  switch (type) {\r\n    case 'SET_REQUESTS':\r\n      return {\r\n        ...state,\r\n        ...payload,\r\n      }\r\n    case 'SET_POINTS':\r\n      return {\r\n        ...state,\r\n        requests: state.requests.map(r => {\r\n          if (r.id === payload.id) {\r\n            r.subRequests.find(sr => sr.id === payload.subRId)!.tables.body[\r\n              payload.rowIdx\r\n            ].points = payload.points\r\n\r\n            return r\r\n          }\r\n\r\n          return r\r\n        }),\r\n      }\r\n    case 'SET_EXAM_POINTS':\r\n      return {\r\n        ...state,\r\n        requests: state.requests.map(r => {\r\n          if (r.id === payload.id) {\r\n            r.subRequests.find(sr => sr.id === payload.subRId)!.point =\r\n              payload.points\r\n          }\r\n          return r\r\n        }),\r\n      }\r\n    case 'SET_STUDENT_EXAM_POINTS':\r\n      return {\r\n        ...state,\r\n        requests: state.requests.map(r => {\r\n          if (r.id === payload.id) {\r\n            r.subRequests.find(sr => sr.id === payload.subRId)!.examPoints =\r\n              payload.points\r\n          }\r\n          return r\r\n        }),\r\n      }\r\n    case 'ADD_COMMENT':\r\n      return {\r\n        ...state,\r\n        requests: state.requests.map(r => {\r\n          if (r.id === payload.id) {\r\n            r.subRequests\r\n              .find(sr => sr.id === payload.subRId)!\r\n              .comments.push({\r\n                name: payload.name,\r\n                imageUrl: payload.imageUrl,\r\n                text: payload.text,\r\n                sendedDate: new Date(),\r\n              })\r\n          }\r\n          return r\r\n        }),\r\n      }\r\n    case 'ADD_REQUEST':\r\n      return {\r\n        ...state,\r\n        requests: [\r\n          ...state.requests,\r\n          {\r\n            id: Date.now(),\r\n            ...payload,\r\n          },\r\n        ],\r\n      }\r\n    case 'SET_STUDENT_DATA':\r\n      return {\r\n        ...state,\r\n        requests: state.requests.map(r => {\r\n          if (r.id === payload.id) {\r\n            r.subRequests.find(sr => sr.id === payload.subRId)!.tables.body[\r\n              payload.rowIdx\r\n            ].data[payload.dataIdx] = payload.value\r\n          }\r\n\r\n          return r\r\n        }),\r\n      }\r\n    case 'SET_STATUS':\r\n      return {\r\n        ...state,\r\n        requests: state.requests.map(r => {\r\n          if (r.id === payload.id) {\r\n            r.subRequests.find(sr => sr.id === payload.subRId)!.status =\r\n              payload.status\r\n          }\r\n\r\n          return r\r\n        }),\r\n      }\r\n    case 'ADD_ROW':\r\n      return {\r\n        ...state,\r\n        requests: state.requests.map(r => {\r\n          if (r.id === payload.id) {\r\n            const data = [\r\n              ...r.subRequests.find(sr => sr.id === payload.subRId)!.tables\r\n                .header,\r\n            ]\r\n\r\n            r.subRequests\r\n              .find(sr => sr.id === payload.subRId)!\r\n              .tables.body.push({\r\n                data,\r\n                points: 0,\r\n              })\r\n          }\r\n\r\n          return r\r\n        }),\r\n      }\r\n    case 'ADD_NOTIFICATION':\r\n      return {\r\n        ...state,\r\n        notifications: [...state.notifications, payload],\r\n      }\r\n    case 'REMOVE_NOTIFICATION':\r\n      return {\r\n        ...state,\r\n        notifications: state.notifications.filter(n => n.id !== payload.id),\r\n      }\r\n    default:\r\n      return state\r\n  }\r\n}\r\n\r\nexport const RequestContext = createContext(initialState)\r\n\r\nexport const RequestProvider = ({ children }: IProps) => {\r\n  const [state, dispatch] = useReducer(reducer, initialState)\r\n\r\n  const fetchRequests = () => {\r\n    try {\r\n      // fetch\r\n\r\n      const comments: IComment[] = [\r\n        {\r\n          name: 'Mike',\r\n          sendedDate: new Date(),\r\n          imageUrl: 'https://place-hold.it/120x120/aaaaaa/f5f5f5',\r\n          text: 'Lorem ipsum, dolor sit amet consectetur adipisicing elit. Accusantium illo commodi vel, aspernatur mollitia voluptatibus incidunt, dicta dignissimos tenetur ex quisquam sit! Iure cupiditate voluptatem minus iste repellat iusto ea.',\r\n        },\r\n        {\r\n          name: 'John',\r\n          sendedDate: new Date(),\r\n          imageUrl: 'https://place-hold.it/120x120/444444/f5f5f5',\r\n          text: 'Lorem ipsum, dolor sit amet consectetur adipisicing elit. Accusantium illo commodi vel, aspernatur mollitia voluptatibus incidunt, dicta dignissimos tenetur ex quisquam sit! Iure cupiditate voluptatem minus iste repellat iusto ea.',\r\n        },\r\n      ]\r\n      const requests: IRequest[] = [\r\n        {\r\n          id: 1,\r\n          studentId: 1,\r\n          companyId: 1,\r\n          company: 'Весна 2019',\r\n          fio: 'Бенько Игорь Анатольевич',\r\n          subRequests: [\r\n            {\r\n              id: 1,\r\n              nomination: 'Учебная',\r\n              status: 'Черновик',\r\n              createdDate: new Date(),\r\n\r\n              educationForm: 'очное обучение',\r\n              phone: '8 800 555 3535',\r\n              financingSource: 'Бюджет',\r\n              institute: 'Институт высшего матана',\r\n              level: 'Аспирант',\r\n              direction: 'Высший матан',\r\n              course: 3,\r\n\r\n              percent: 'Отлично',\r\n              examPoints: 12,\r\n              point: 0,\r\n\r\n              tables: {\r\n                header: [\r\n                  'Название',\r\n                  'Тип',\r\n                  'Статус',\r\n                  'Год',\r\n                  'Документ',\r\n                  'Награда',\r\n                ],\r\n                body: [\r\n                  {\r\n                    points: 10,\r\n                    data: [\r\n                      'test1',\r\n                      'Другое',\r\n                      'Другое',\r\n                      '2000',\r\n                      'data:image/jpeg;base64,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',\r\n                      'Призёр',\r\n                    ],\r\n                  },\r\n                  {\r\n                    points: 0,\r\n                    data: [\r\n                      'test2',\r\n                      'Другое',\r\n                      'Другое',\r\n                      '2000',\r\n                      'https://s3.ibta.ru/goods/128348/96d238058b43e4adb5eb87b72710b9b1_xl.jpg',\r\n                      'Призёр',\r\n                    ],\r\n                  },\r\n                ],\r\n              },\r\n              comments,\r\n            },\r\n          ],\r\n        },\r\n        {\r\n          id: 2,\r\n          studentId: 1,\r\n          companyId: 1,\r\n          company: 'Весна 2019',\r\n          fio: 'Кукушкина Алиса Андреевна',\r\n          subRequests: [\r\n            {\r\n              id: 2,\r\n              nomination: 'Учебная',\r\n              status: 'Победитель',\r\n              createdDate: new Date(),\r\n\r\n              educationForm: 'очное обучение',\r\n              phone: '8 800 555 7878',\r\n              financingSource: 'Бюджет',\r\n              institute: 'Институт высшего матана',\r\n              level: 'Бакалавр',\r\n              direction: 'Высший матан',\r\n              course: 2,\r\n\r\n              percent: 'Отлично',\r\n              examPoints: 12,\r\n              point: 0,\r\n\r\n              tables: {\r\n                header: [],\r\n                body: [],\r\n              },\r\n              comments: [],\r\n            },\r\n          ],\r\n        },\r\n      ]\r\n      const nominations = Array.from(new Set(['Учебная', 'Спортивная']))\r\n      const statuses = Array.from(new Set(['Победитель', 'Черновик']))\r\n      const notifications = [\r\n        {\r\n          id: 1,\r\n          text: 'Компания Весна 2021 начинает работу с апреля 2021 года!',\r\n        },\r\n        {\r\n          id: 2,\r\n          text: 'Компания Весна 2021 начинает работу с апреля 2021 года!',\r\n        },\r\n      ]\r\n      const companies = Array.from(\r\n        new Set([\r\n          {\r\n            name: 'Весна 2019',\r\n            id: 1,\r\n          },\r\n          {\r\n            name: 'Весна 2020',\r\n            id: 2,\r\n          },\r\n        ])\r\n      )\r\n\r\n      dispatch({\r\n        type: 'SET_REQUESTS',\r\n        payload: {\r\n          requests,\r\n          nominations,\r\n          statuses,\r\n          companies,\r\n          notifications,\r\n        },\r\n      })\r\n    } catch (e) {\r\n      dispatch({\r\n        type: 'SET_REQUESTS',\r\n        payload: {\r\n          requests: {\r\n            id: 0,\r\n            companyId: 0,\r\n            company: `null`,\r\n            nomination: 'null',\r\n            status: 'null',\r\n            createdDate: new Date(),\r\n\r\n            fio: `Ошибка при получении данных: ${e}`,\r\n            educationForm: 'null',\r\n            phone: 'null',\r\n            financingSource: 'null',\r\n            institute: 'null',\r\n            level: 'null',\r\n            direction: 'null',\r\n            course: 0,\r\n\r\n            tables: [],\r\n          },\r\n        },\r\n      })\r\n    }\r\n  }\r\n  const setPoints = (\r\n    id: number,\r\n    subRId: number,\r\n    rowIdx: number,\r\n    points: number\r\n  ) =>\r\n    // fetch\r\n    dispatch({\r\n      type: 'SET_POINTS',\r\n      payload: {\r\n        id,\r\n        rowIdx,\r\n        points,\r\n        subRId,\r\n      },\r\n    })\r\n\r\n  const setExamPoints = (id: number, subRId: number, points: number) => {\r\n    // fetch\r\n    dispatch({\r\n      type: 'SET_EXAM_POINTS',\r\n      payload: {\r\n        id,\r\n        points,\r\n        subRId,\r\n      },\r\n    })\r\n  }\r\n  const setStudentExamPoints = (id: number, subRId: number, points: number) => {\r\n    // fetch\r\n    dispatch({\r\n      type: 'SET_STUDENT_EXAM_POINTS',\r\n      payload: {\r\n        id,\r\n        points,\r\n        subRId,\r\n      },\r\n    })\r\n  }\r\n  const addComment = (\r\n    id: number,\r\n    subRId: number,\r\n    name: string,\r\n    imageUrl: string,\r\n    text: string\r\n  ) => {\r\n    // fetch\r\n    dispatch({\r\n      type: 'ADD_COMMENT',\r\n      payload: {\r\n        id,\r\n        subRId,\r\n        name,\r\n        imageUrl,\r\n        text,\r\n      },\r\n    })\r\n  }\r\n  const addRequest = (\r\n    companyId: number,\r\n    studentId: number,\r\n    company: string,\r\n    nomination: string,\r\n    createdDate: Date,\r\n    fio: string,\r\n    learningPlans: string\r\n  ) => {\r\n    // fetch\r\n    // get id and subRequests from fetch\r\n\r\n    const payload: IRequest = {\r\n      id: Date.now(),\r\n      studentId,\r\n      companyId,\r\n      company,\r\n      fio,\r\n      subRequests: [],\r\n    }\r\n\r\n    dispatch({\r\n      type: 'ADD_REQUEST',\r\n      payload,\r\n    })\r\n  }\r\n  const setStudentData = (\r\n    id: number,\r\n    subRId: number,\r\n    rowIdx: number,\r\n    dataIdx: number,\r\n    value: string\r\n  ) => {\r\n    // fetch\r\n    dispatch({\r\n      type: 'SET_STUDENT_DATA',\r\n      payload: {\r\n        id,\r\n        subRId,\r\n        rowIdx,\r\n        dataIdx,\r\n        value,\r\n      },\r\n    })\r\n  }\r\n  const setStatus = (id: number, subRId: number, status: string) => {\r\n    // fetch\r\n    dispatch({\r\n      type: 'SET_STATUS',\r\n      payload: {\r\n        id,\r\n        subRId,\r\n        status,\r\n      },\r\n    })\r\n  }\r\n  const addRow = (id: number, subRId: number) =>\r\n    dispatch({\r\n      type: 'ADD_ROW',\r\n      payload: {\r\n        id,\r\n        subRId,\r\n      },\r\n    })\r\n  const addNotification = (text: string) => {\r\n    // fetch\r\n    // get id from fetch\r\n\r\n    dispatch({\r\n      type: 'ADD_NOTIFICATION',\r\n      payload: {\r\n        id: Date.now(),\r\n        text,\r\n      },\r\n    })\r\n  }\r\n  const removeNotification = (id: number) => {\r\n    // fetch\r\n    // get id from fetch\r\n\r\n    dispatch({\r\n      type: 'REMOVE_NOTIFICATION',\r\n      payload: {\r\n        id,\r\n      },\r\n    })\r\n  }\r\n\r\n  return (\r\n    <RequestContext.Provider\r\n      value={{\r\n        ...state,\r\n        fetchRequests,\r\n        setPoints,\r\n        setExamPoints,\r\n        setStudentExamPoints,\r\n        addComment,\r\n        addRequest,\r\n        setStudentData,\r\n        setStatus,\r\n        addRow,\r\n        addNotification,\r\n        removeNotification,\r\n      }}\r\n    >\r\n      {children}\r\n    </RequestContext.Provider>\r\n  )\r\n}\r\n","import React, { createContext, ReactElement, useReducer } from 'react'\r\nimport { IAuthState, Role } from '../types/auth'\r\nimport { IAction } from '../types/companies'\r\n\r\nconst initialState: IAuthState = {\r\n  id: 0,\r\n  fio: '',\r\n  avatarUrl:\r\n    'https://avatars.mds.yandex.net/get-ott/374297/2a000001616b87458162c9216ccd5144e94d/678x380',\r\n  role: 'anonymous',\r\n  learningPlans: [],\r\n\r\n  login: () => {},\r\n}\r\n\r\ninterface IProps {\r\n  children?: ReactElement\r\n}\r\n\r\nconst reducer = (state = initialState, action: IAction): IAuthState => {\r\n  switch (action.type) {\r\n    case 'LOGIN':\r\n      return {\r\n        ...state,\r\n        ...action.payload,\r\n      }\r\n    default:\r\n      return state\r\n  }\r\n}\r\n\r\nexport const AuthContext = createContext(initialState)\r\n\r\nexport const AuthProvider = ({ children }: IProps) => {\r\n  const [state, dispatch] = useReducer(reducer, initialState)\r\n\r\n  const login = (\r\n    id: number,\r\n    fio: string,\r\n    avatarUrl: string,\r\n    role: Role,\r\n    learningPlans: string[]\r\n  ) => {\r\n    dispatch({\r\n      type: 'LOGIN',\r\n      payload: {\r\n        id,\r\n        fio,\r\n        avatarUrl,\r\n        role,\r\n        learningPlans,\r\n      },\r\n    })\r\n  }\r\n\r\n  return (\r\n    <AuthContext.Provider\r\n      value={{\r\n        ...state,\r\n        login,\r\n      }}\r\n    >\r\n      {children}\r\n    </AuthContext.Provider>\r\n  )\r\n}\r\n","import React, { FC, useState, useContext } from 'react'\r\nimport { AuthContext } from '../../store/AuthContext'\r\n\r\nexport const AdminAuthPage: FC = () => {\r\n  const { login } = useContext(AuthContext)\r\n  const [authData, setAuthData] = useState<{\r\n    fio: string\r\n    password: string\r\n  }>({\r\n    fio: '',\r\n    password: '',\r\n  })\r\n\r\n  const loginHandler = () => {\r\n    login(\r\n      1,\r\n      authData.fio,\r\n      'https://avatars.mds.yandex.net/get-ott/374297/2a000001616b87458162c9216ccd5144e94d/678x380',\r\n      'admin',\r\n      []\r\n    )\r\n  }\r\n\r\n  return (\r\n    <div className='container'>\r\n      <h1>Авторизация администраторов</h1>\r\n      <small style={{ position: 'relative', top: -20, left: 0 }}>\r\n        * студент не сможет попасть в систему по этой форме\r\n      </small>\r\n      <div className='input-field'>\r\n        <input\r\n          id='fio'\r\n          type='text'\r\n          onChange={(event: React.ChangeEvent<HTMLInputElement>) =>\r\n            setAuthData(prev => ({\r\n              ...prev,\r\n              fio: event.target.value,\r\n            }))\r\n          }\r\n        />\r\n        <label htmlFor='fio'>Логин</label>\r\n      </div>\r\n      <div className='input-field'>\r\n        <input\r\n          id='fio'\r\n          type='password'\r\n          onChange={(event: React.ChangeEvent<HTMLInputElement>) =>\r\n            setAuthData(prev => ({\r\n              ...prev,\r\n              password: event.target.value,\r\n            }))\r\n          }\r\n        />\r\n        <label htmlFor='fio'>Пароль</label>\r\n      </div>\r\n      <button\r\n        className='btn light-blue darken-2 waves-effect waves-light'\r\n        style={{ float: 'right' }}\r\n        onClick={loginHandler}\r\n      >\r\n        <i className='material-icons left'>person</i>\r\n        Войти\r\n      </button>\r\n    </div>\r\n  )\r\n}\r\n","import React, {\r\n  FC,\r\n  useContext,\r\n  useEffect,\r\n  useRef,\r\n  useState,\r\n  useLayoutEffect,\r\n} from 'react'\r\nimport M from 'materialize-css'\r\nimport { NavLink } from 'react-router-dom'\r\nimport { AuthContext } from '../store/AuthContext'\r\n\r\nexport const AdminHeader: FC = () => {\r\n  const navbar = useRef(null)\r\n  const tooltipRef1 = useRef(null)\r\n  const tooltipRef2 = useRef(null)\r\n  const [title, setTitle] = useState(\r\n    'Повышенная государственная академическая стипендия'\r\n  )\r\n  const { fio, avatarUrl, role, login } = useContext(AuthContext)\r\n\r\n  const logout = () => login(0, '', '', 'anonymous', [])\r\n\r\n  useEffect(() => {\r\n    M.Sidenav.init(navbar.current!)\r\n    M.Tooltip.init(tooltipRef1.current!)\r\n    M.Tooltip.init(tooltipRef2.current!)\r\n  }, [])\r\n\r\n  useLayoutEffect(() => {\r\n    function updateSize() {\r\n      if (window.innerWidth < 1280)\r\n        setTitle('Государственная академическая стипендия')\r\n      if (window.innerWidth < 1050) setTitle('Академическая стипендия')\r\n      if (window.innerWidth < 800) setTitle('ПГАС')\r\n    }\r\n    window.addEventListener('resize', updateSize)\r\n    updateSize()\r\n    return () => window.removeEventListener('resize', updateSize)\r\n  }, [])\r\n\r\n  return (\r\n    <>\r\n      <nav className='blue darken-4 px-4'>\r\n        <div className='nav-wrapper'>\r\n          <NavLink to='/' className='brand-logo'>\r\n            {title}\r\n          </NavLink>\r\n          <a href='#' data-target='mobile-demo' className='sidenav-trigger'>\r\n            <i className='material-icons'>menu</i>\r\n          </a>\r\n          <ul className='right hide-on-med-and-down'>\r\n            <li>\r\n              <NavLink to='/admin/notifications/'>Объявления</NavLink>\r\n            </li>\r\n            <li>\r\n              <NavLink to='/admin/companies/'>Список компаний</NavLink>\r\n            </li>\r\n            <li>\r\n              <NavLink to='/admin/requests/'>Список заявок</NavLink>\r\n            </li>\r\n            {role !== 'anonymous' ? (\r\n              <li>\r\n                <a\r\n                  href='#'\r\n                  className='btn-floating btn-large tooltipped waves-effect'\r\n                  data-position='bottom'\r\n                  data-tooltip={fio}\r\n                  ref={tooltipRef1}\r\n                  style={{\r\n                    marginBottom: 2,\r\n                  }}\r\n                  onClick={logout}\r\n                >\r\n                  <img\r\n                    src={avatarUrl}\r\n                    style={{\r\n                      objectFit: 'cover',\r\n                      width: 56,\r\n                      height: 56,\r\n                    }}\r\n                  />\r\n                </a>\r\n              </li>\r\n            ) : null}\r\n          </ul>\r\n        </div>\r\n      </nav>\r\n\r\n      <ul className='sidenav' id='mobile-demo' ref={navbar}>\r\n        {role !== 'anonymous' ? (\r\n          <li>\r\n            <a\r\n              href='#'\r\n              className='btn-floating btn-large tooltipped waves-effect'\r\n              data-position='bottom'\r\n              data-tooltip={fio}\r\n              ref={tooltipRef2}\r\n              style={{\r\n                marginBottom: 2,\r\n              }}\r\n            >\r\n              <img\r\n                src={avatarUrl}\r\n                style={{\r\n                  objectFit: 'cover',\r\n                  width: 56,\r\n                  height: 56,\r\n                }}\r\n              />\r\n            </a>\r\n          </li>\r\n        ) : null}\r\n        <li>\r\n          <NavLink to='/admin/notifications/'>Объявления</NavLink>\r\n        </li>\r\n        <li>\r\n          <NavLink to='/admin/companies/'>Список компаний</NavLink>\r\n        </li>\r\n        <li>\r\n          <NavLink to='/admin/requests/'>Список заявок</NavLink>\r\n        </li>\r\n      </ul>\r\n    </>\r\n  )\r\n}\r\n\r\nexport const StudentHeader: FC = () => {\r\n  const navbar = useRef(null)\r\n  const tooltipRef1 = useRef(null)\r\n  const tooltipRef2 = useRef(null)\r\n  const [title, setTitle] = useState(\r\n    'Повышенная государственная академическая стипендия'\r\n  )\r\n  const { fio, avatarUrl, role, login } = useContext(AuthContext)\r\n\r\n  const logout = () => login(0, '', '', 'anonymous', [])\r\n\r\n  useEffect(() => {\r\n    M.Sidenav.init(navbar.current!)\r\n    M.Tooltip.init(tooltipRef1.current!)\r\n    M.Tooltip.init(tooltipRef2.current!)\r\n  }, [])\r\n\r\n  useLayoutEffect(() => {\r\n    function updateSize() {\r\n      if (window.innerWidth < 1280)\r\n        setTitle('Государственная академическая стипендия')\r\n      if (window.innerWidth < 1050) setTitle('Академическая стипендия')\r\n      if (window.innerWidth < 800) setTitle('ПГАС')\r\n    }\r\n    window.addEventListener('resize', updateSize)\r\n    updateSize()\r\n    return () => window.removeEventListener('resize', updateSize)\r\n  }, [])\r\n\r\n  return (\r\n    <>\r\n      <nav className='blue darken-4 px-4'>\r\n        <div className='nav-wrapper'>\r\n          <NavLink to='/' className='brand-logo'>\r\n            {title}\r\n          </NavLink>\r\n          <a href='#' data-target='mobile-demo' className='sidenav-trigger'>\r\n            <i className='material-icons'>menu</i>\r\n          </a>\r\n          <ul className='right hide-on-med-and-down'>\r\n            <li>\r\n              <NavLink to='/companies/'>Список компаний</NavLink>\r\n            </li>\r\n            {role !== 'anonymous' ? (\r\n              <li>\r\n                <a\r\n                  href='#'\r\n                  className='btn-floating btn-large tooltipped waves-effect'\r\n                  data-position='bottom'\r\n                  data-tooltip={fio}\r\n                  ref={tooltipRef1}\r\n                  style={{\r\n                    marginBottom: 2,\r\n                  }}\r\n                  onClick={logout}\r\n                >\r\n                  <img\r\n                    src={avatarUrl}\r\n                    style={{\r\n                      objectFit: 'cover',\r\n                      width: 56,\r\n                      height: 56,\r\n                    }}\r\n                  />\r\n                </a>\r\n              </li>\r\n            ) : null}\r\n          </ul>\r\n        </div>\r\n      </nav>\r\n\r\n      <ul className='sidenav' id='mobile-demo' ref={navbar}>\r\n        {role !== 'anonymous' ? (\r\n          <li>\r\n            <a\r\n              href='#'\r\n              className='btn-floating btn-large tooltipped waves-effect'\r\n              data-position='bottom'\r\n              data-tooltip={fio}\r\n              ref={tooltipRef2}\r\n              style={{\r\n                marginBottom: 2,\r\n              }}\r\n            >\r\n              <img\r\n                src={avatarUrl}\r\n                style={{\r\n                  objectFit: 'cover',\r\n                  width: 56,\r\n                  height: 56,\r\n                }}\r\n              />\r\n            </a>\r\n          </li>\r\n        ) : null}\r\n        <li>\r\n          <NavLink to='/companies/'>Список компаний</NavLink>\r\n        </li>\r\n      </ul>\r\n    </>\r\n  )\r\n}\r\n","import React, { FC, useContext, useEffect, useRef, useState } from 'react'\r\nimport { AdminHeader } from '../../components/Header'\r\nimport { CompanyContext } from '../../store/CompanyContext'\r\nimport M from 'materialize-css'\r\n\r\nexport const AdminCompanyListPage: FC = () => {\r\n  const {\r\n    companies,\r\n    fetchCompanies,\r\n    deleteCompany,\r\n    createCompany,\r\n    editCompany,\r\n  } = useContext(CompanyContext)\r\n  const [createData, setCreateData] = useState<{\r\n    name: null | string\r\n    startDate: null | Date\r\n    endDate: null | Date\r\n  }>({\r\n    name: null,\r\n    startDate: null,\r\n    endDate: null,\r\n  })\r\n  const [editData, setEditData] = useState<{\r\n    id: undefined | number\r\n    name: undefined | string\r\n    startDate: undefined | Date\r\n    endDate: undefined | Date\r\n  }>({\r\n    id: undefined,\r\n    name: undefined,\r\n    startDate: undefined,\r\n    endDate: undefined,\r\n  })\r\n  const createModalRef = useRef(null)\r\n  const editModalRef = useRef(null)\r\n  const startCreateDatePickerRef = useRef(null)\r\n  const endCreateDatePickerRef = useRef(null)\r\n  const startEditDatePickerRef = useRef(null)\r\n  const endEditDatePickerRef = useRef(null)\r\n  const inputRef1 = useRef(null)\r\n\r\n  const createClickHandler = () => {\r\n    const i = M.Modal.getInstance(createModalRef.current!)\r\n    i.open()\r\n  }\r\n  const editClickHandler = (id: number) => {\r\n    const company = companies.find(c => c.id === id)\r\n    setEditData({\r\n      id,\r\n      name: company?.name,\r\n      startDate: company?.startDate,\r\n      endDate: company?.endDate,\r\n    })\r\n\r\n    const i = M.Modal.getInstance(editModalRef.current!)\r\n    i.open()\r\n\r\n    setTimeout(() => {\r\n      // @ts-ignore\r\n      inputRef1!.current.focus()\r\n      // @ts-ignore\r\n      startEditDatePickerRef!.current.focus()\r\n      // @ts-ignore\r\n      endEditDatePickerRef!.current.focus()\r\n    }, 100)\r\n  }\r\n  const deleteClickHandler = (id: number, name: string) => {\r\n    try {\r\n      deleteCompany(id)\r\n      M.toast({\r\n        html: `<span>Кампания <b>${name}</b> была успешна удалена!</span>`,\r\n        classes: 'light-blue darken-1',\r\n      })\r\n    } catch (e) {\r\n      M.toast({\r\n        html: `<span>Что-то пошло не так: <b>${e}</b></span>`,\r\n        classes: 'red darken-4',\r\n      })\r\n    }\r\n  }\r\n  const modalCreateClickHandler = () => {\r\n    if (createData.name && createData.endDate && createData.startDate) {\r\n      try {\r\n        createCompany(createData.name, createData.startDate, createData.endDate)\r\n\r\n        return M.toast({\r\n          html: `<span>Кампания <b>${createData.name}</b> была успешна добавлена!</span>`,\r\n          classes: 'light-blue darken-1',\r\n        })\r\n      } catch (e) {\r\n        return M.toast({\r\n          html: `<span>Что-то пошло не так: <b>${e}</b></span>`,\r\n          classes: 'red darken-4',\r\n        })\r\n      }\r\n    }\r\n    M.toast({\r\n      html: 'Зполните все поля формы!',\r\n      classes: 'red darken-4',\r\n    })\r\n  }\r\n  const modalEditClickHandler = () => {\r\n    if (editData.name && editData.endDate && editData.startDate) {\r\n      try {\r\n        editCompany(\r\n          editData.id!,\r\n          editData.name,\r\n          editData.startDate,\r\n          editData.endDate\r\n        )\r\n        const i = M.Modal.getInstance(editModalRef.current!)\r\n        i.close()\r\n\r\n        return M.toast({\r\n          html: `<span>Кампания <b>${editData.name}</b> была успешна изменена!</span>`,\r\n          classes: 'light-blue darken-1',\r\n        })\r\n      } catch (e) {\r\n        return M.toast({\r\n          html: `<span>Что-то пошло не так: <b>${e}</b></span>`,\r\n          classes: 'red darken-4',\r\n        })\r\n      }\r\n    }\r\n    M.toast({\r\n      html: 'Зполните все поля формы!',\r\n      classes: 'red darken-4',\r\n    })\r\n  }\r\n\r\n  useEffect(() => {\r\n    if (!companies.length) fetchCompanies()\r\n  }, [])\r\n\r\n  useEffect(() => {\r\n    M.Modal.init(createModalRef.current!)\r\n    M.Modal.init(editModalRef.current!)\r\n\r\n    M.Datepicker.init(startCreateDatePickerRef.current!, {\r\n      container: document.querySelector('body'),\r\n      format: 'dd.mm.yyyy',\r\n      onSelect: (selectedDate: Date) =>\r\n        setCreateData(prev => ({\r\n          ...prev,\r\n          startDate: selectedDate,\r\n        })),\r\n    })\r\n    M.Datepicker.init(endCreateDatePickerRef.current!, {\r\n      container: document.querySelector('body'),\r\n      format: 'dd.mm.yyyy',\r\n      onSelect: (selectedDate: Date) =>\r\n        setCreateData(prev => ({\r\n          ...prev,\r\n          endDate: selectedDate,\r\n        })),\r\n    })\r\n\r\n    M.Datepicker.init(startEditDatePickerRef.current!, {\r\n      container: document.querySelector('body'),\r\n      format: 'dd.mm.yyyy',\r\n      onSelect: (selectedDate: Date) =>\r\n        setEditData(prev => ({\r\n          ...prev,\r\n          startDate: selectedDate,\r\n        })),\r\n    })\r\n    M.Datepicker.init(endEditDatePickerRef.current!, {\r\n      container: document.querySelector('body'),\r\n      format: 'dd.mm.yyyy',\r\n      onSelect: (selectedDate: Date) =>\r\n        setEditData(prev => ({\r\n          ...prev,\r\n          endDate: selectedDate,\r\n        })),\r\n    })\r\n  }, [companies.length])\r\n\r\n  return (\r\n    <>\r\n      <AdminHeader />\r\n      <div className='container'>\r\n        <h1>Компании</h1>\r\n        <button\r\n          className='btn light-blue darken-2 waves-effect waves-light'\r\n          onClick={createClickHandler}\r\n        >\r\n          <i className='material-icons left'>add</i>\r\n          Добавить компанию\r\n        </button>\r\n        <table className='mt-4 striped'>\r\n          <thead>\r\n            <tr>\r\n              <th>Название</th>\r\n              <th>Дата начала</th>\r\n              <th>Дата окончания</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            {companies.map(c => {\r\n              return (\r\n                <tr key={c.id}>\r\n                  <td>{c.name}</td>\r\n                  <td>{c.startDate.toLocaleDateString()}</td>\r\n                  <td>{c.endDate.toLocaleDateString()}</td>\r\n                  <td>\r\n                    <button\r\n                      className='btn-floating waves-effect waves-light light-blue darken-1'\r\n                      onClick={() => editClickHandler(c.id)}\r\n                    >\r\n                      <i className='material-icons'>edit</i>\r\n                    </button>\r\n                    <button\r\n                      className='btn-floating waves-effect waves-light light-blue darken-1'\r\n                      style={{ marginLeft: 12 }}\r\n                      onClick={() => deleteClickHandler(c.id, c.name)}\r\n                    >\r\n                      <i className='material-icons'>delete</i>\r\n                    </button>\r\n                  </td>\r\n                </tr>\r\n              )\r\n            })}\r\n          </tbody>\r\n        </table>\r\n      </div>\r\n\r\n      {/* create modal */}\r\n      <div ref={createModalRef} className='modal'>\r\n        <div className='modal-content'>\r\n          <h4>Добавить компанию</h4>\r\n          <div className='input-field' style={{ marginTop: 16 }}>\r\n            <input\r\n              id='name'\r\n              type='text'\r\n              onChange={(event: React.ChangeEvent<HTMLInputElement>) =>\r\n                setCreateData(prev => ({\r\n                  ...prev,\r\n                  name: event.target.value,\r\n                }))\r\n              }\r\n            />\r\n            <label htmlFor='name'>Название</label>\r\n          </div>\r\n          <div className='input-field'>\r\n            <input type='text' id='date' ref={startCreateDatePickerRef} />\r\n            <label htmlFor='date'>Дата начала</label>\r\n          </div>\r\n          <div className='input-field'>\r\n            <input type='text' id='date' ref={endCreateDatePickerRef} />\r\n            <label htmlFor='date'>Дата окончания</label>\r\n          </div>\r\n        </div>\r\n        <div className='modal-footer'>\r\n          <button\r\n            className='btn light-blue darken-2 waves-effect waves-light'\r\n            onClick={modalCreateClickHandler}\r\n          >\r\n            <i className='material-icons left'>save</i>\r\n            Добавить компанию\r\n          </button>\r\n        </div>\r\n      </div>\r\n\r\n      {/* edit modal */}\r\n      <div ref={editModalRef} className='modal'>\r\n        <div className='modal-content'>\r\n          <h4>\r\n            Изменить компанию <strong>\"{editData.name}\"</strong>\r\n          </h4>\r\n          <div className='input-field' style={{ marginTop: 16 }}>\r\n            <input\r\n              id='name'\r\n              type='text'\r\n              value={editData.name}\r\n              ref={inputRef1}\r\n              onChange={(event: React.ChangeEvent<HTMLInputElement>) =>\r\n                setEditData(prev => ({\r\n                  ...prev,\r\n                  name: event.target.value,\r\n                }))\r\n              }\r\n            />\r\n            <label htmlFor='name'>Название</label>\r\n          </div>\r\n          <div className='input-field'>\r\n            <input\r\n              type='text'\r\n              id='date'\r\n              value={editData.startDate?.toLocaleDateString()}\r\n              ref={startEditDatePickerRef}\r\n            />\r\n            <label htmlFor='date'>Дата начала</label>\r\n          </div>\r\n          <div className='input-field'>\r\n            <input\r\n              type='text'\r\n              id='date'\r\n              value={editData.startDate?.toLocaleDateString()}\r\n              ref={endEditDatePickerRef}\r\n            />\r\n            <label htmlFor='date'>Дата окончания</label>\r\n          </div>\r\n        </div>\r\n        <div className='modal-footer'>\r\n          <button\r\n            className='btn light-blue darken-2 waves-effect waves-light'\r\n            onClick={modalEditClickHandler}\r\n          >\r\n            <i className='material-icons left'>save</i>\r\n            Сохранить изменения\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </>\r\n  )\r\n}\r\n","import React, { FC, useContext, useEffect, useRef, useState } from 'react'\r\nimport { useParams } from 'react-router-dom'\r\nimport { AdminHeader } from '../../components/Header'\r\nimport { RequestContext } from '../../store/RequestContext'\r\nimport M from 'materialize-css'\r\nimport { AuthContext } from '../../store/AuthContext'\r\n\r\nexport const AdminRequestDetailPage: FC = () => {\r\n  const { id1, id2 } = useParams()\r\n  const pointRef = useRef(null)\r\n  const messageRef = useRef(null)\r\n  const btnRef = useRef(null)\r\n  const {\r\n    requests,\r\n    fetchRequests,\r\n    setPoints,\r\n    setExamPoints,\r\n    addComment,\r\n    setStatus,\r\n  } = useContext(RequestContext)\r\n  const { fio, avatarUrl } = useContext(AuthContext)\r\n  const request = requests.find(r => r.id === Number(id1))\r\n  const subRequest = requests\r\n    .find(r => r.id === Number(id1))\r\n    ?.subRequests.find(sb => sb.id === Number(id2))\r\n  const [message, setMessage] = useState('')\r\n\r\n  useEffect(() => {\r\n    if (!requests.length) fetchRequests()\r\n  }, [])\r\n  useEffect(() => {\r\n    // @ts-ignore\r\n    pointRef.current!.focus()\r\n    M.CharacterCounter.init(messageRef.current!)\r\n\r\n    document.querySelectorAll('.tooltipped').forEach(el => {\r\n      const url = el.getAttribute('data-tooltip-img')\r\n      M.Tooltip.init(el, {\r\n        html: `<img src=\"${url}\" class=\"tooltip-img\" />`,\r\n      })\r\n    })\r\n\r\n    M.FloatingActionButton.init(btnRef.current!, {\r\n      toolbarEnabled: true,\r\n    })\r\n  }, [requests.length])\r\n\r\n  const saveHandler = () => {\r\n    try {\r\n      // fetch\r\n      M.toast({\r\n        html: 'Данные были успешно сохранены!',\r\n        classes: 'light-blue darken-1',\r\n      })\r\n    } catch (e) {\r\n      M.toast({\r\n        html: `<span>Что-то пошло не так: <b>${e}</b></span>`,\r\n        classes: 'red darken-4',\r\n      })\r\n    }\r\n  }\r\n  const sendHandler = () => {\r\n    try {\r\n      // fetch\r\n      addComment(request?.id!, subRequest?.id!, fio, avatarUrl, message)\r\n      setMessage('')\r\n      M.toast({\r\n        html: 'Вы успешно оставили коментарий!',\r\n        classes: 'light-blue darken-1',\r\n      })\r\n    } catch (e) {\r\n      M.toast({\r\n        html: `<span>Что-то пошло не так: <b>${e}</b></span>`,\r\n        classes: 'red darken-4',\r\n      })\r\n    }\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <AdminHeader />\r\n      <div className='container'>\r\n        <h3 className='mt-4'>Информация о заявлении</h3>\r\n        <table>\r\n          <thead className='striped'>\r\n            <tr>\r\n              <th>Кампания</th>\r\n              <th>Наминация</th>\r\n              <th>Статус</th>\r\n              <th>Дата создания</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            <tr>\r\n              <td>{request?.company}</td>\r\n              <td>{subRequest?.nomination}</td>\r\n              <td>{subRequest?.status}</td>\r\n              <td>{subRequest?.createdDate.toLocaleDateString()}</td>\r\n            </tr>\r\n          </tbody>\r\n        </table>\r\n        <h3 className='mt-4'>Информация о студенте</h3>\r\n        <table>\r\n          <thead>\r\n            <tr>\r\n              <th>ФИО</th>\r\n              <th>Телефон</th>\r\n              <th>Статус</th>\r\n              <th>Институт</th>\r\n              <th>Направление</th>\r\n              <th>Форма обучения</th>\r\n              <th>Источник финансирования</th>\r\n              <th>Уровень</th>\r\n              <th>Курс</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            <tr>\r\n              <td>{request?.fio}</td>\r\n              <td>{subRequest?.phone}</td>\r\n              <td>{subRequest?.status}</td>\r\n              <td>{subRequest?.institute}</td>\r\n              <td>{subRequest?.direction}</td>\r\n              <td>{subRequest?.educationForm}</td>\r\n              <td>{subRequest?.financingSource}</td>\r\n              <td>{subRequest?.level}</td>\r\n              <td>{subRequest?.course}</td>\r\n            </tr>\r\n          </tbody>\r\n        </table>\r\n        <h3 className='mt-4'>Оценки</h3>\r\n        <div>\r\n          <small>Процент \"{subRequest?.percent}\"</small>\r\n          <input type='text' value={subRequest?.examPoints} />\r\n          <div className='input-field'>\r\n            <input\r\n              type='text'\r\n              id='point'\r\n              ref={pointRef}\r\n              value={subRequest?.point}\r\n              onKeyPress={event => {\r\n                if (!/[0-9]/.test(event.key)) {\r\n                  event.preventDefault()\r\n                }\r\n              }}\r\n              onChange={(event: React.ChangeEvent<HTMLInputElement>) =>\r\n                setExamPoints(\r\n                  request?.id!,\r\n                  subRequest?.id!,\r\n                  Number(event.target.value)\r\n                )\r\n              }\r\n              style={{ maxWidth: 'fit-content' }}\r\n            />\r\n            <label htmlFor='point'>Балл</label>\r\n          </div>\r\n        </div>\r\n        <h3 className='mt-4'>Таблицы</h3>\r\n        <table className='responsive-table'>\r\n          <thead>\r\n            <tr>\r\n              {subRequest?.tables.header.map((h, hIdx) => (\r\n                <th key={hIdx}>{h}</th>\r\n              ))}\r\n              <th>Баллы</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            {subRequest?.tables.body.map((r, rIdx) => {\r\n              return (\r\n                <tr key={rIdx}>\r\n                  {r.data.map((b, bIdx) => {\r\n                    try {\r\n                      new URL(b)\r\n                      return (\r\n                        <td key={bIdx}>\r\n                          <a\r\n                            className='waves-effect waves-light btn light-blue darken-1 tooltipped'\r\n                            href={b}\r\n                            target='_blank'\r\n                            data-position='top'\r\n                            data-tooltip-img={b}\r\n                          >\r\n                            <i className='material-icons'>insert_drive_file</i>\r\n                          </a>\r\n                        </td>\r\n                      )\r\n                    } catch (e) {\r\n                      return <td key={bIdx}>{b}</td>\r\n                    }\r\n                  })}\r\n                  <td>\r\n                    <input\r\n                      type='text'\r\n                      value={r.points}\r\n                      style={{ maxWidth: 'fit-content' }}\r\n                      key={'input' + rIdx}\r\n                      onKeyPress={event => {\r\n                        if (!/[0-9]/.test(event.key)) {\r\n                          event.preventDefault()\r\n                        }\r\n                      }}\r\n                      onChange={(event: React.ChangeEvent<HTMLInputElement>) =>\r\n                        setPoints(\r\n                          request!.id,\r\n                          subRequest.id,\r\n                          rIdx,\r\n                          Number(event.target.value)\r\n                        )\r\n                      }\r\n                    />\r\n                  </td>\r\n                </tr>\r\n              )\r\n            })}\r\n          </tbody>\r\n        </table>\r\n        <button\r\n          className='btn light-blue darken-2 waves-effect waves-light'\r\n          style={{ marginTop: 36, float: 'right' }}\r\n          onClick={saveHandler}\r\n        >\r\n          <i className='material-icons left'>save</i>\r\n          Сохранить\r\n        </button>\r\n        <h3 className='mt-4'>Коментарии</h3>\r\n        <div>\r\n          {subRequest?.comments.map((c, idx) => {\r\n            return (\r\n              <div key={idx} className='comment'>\r\n                <div className='avatar'>\r\n                  <img src={c.imageUrl} alt='avatar' />\r\n                  <span>{c.name}</span>\r\n                </div>\r\n                <p>{c.text}</p>\r\n                <small>{c.sendedDate.toLocaleString()}</small>\r\n              </div>\r\n            )\r\n          })}\r\n        </div>\r\n        <div className='input-field'>\r\n          <textarea\r\n            id='message'\r\n            className='materialize-textarea mt-4'\r\n            data-length='1000'\r\n            value={message}\r\n            onChange={(event: React.ChangeEvent<HTMLTextAreaElement>) => {\r\n              if (message.length <= 1000) setMessage(event.target.value)\r\n            }}\r\n            ref={messageRef}\r\n          ></textarea>\r\n          <label className='message'>Сообщение</label>\r\n        </div>\r\n        <button\r\n          className='btn light-blue darken-2 waves-effect waves-light'\r\n          style={{ float: 'right' }}\r\n          onClick={sendHandler}\r\n        >\r\n          <i className='material-icons left'>send</i>\r\n          Отправить\r\n        </button>\r\n      </div>\r\n      {!(\r\n        subRequest?.status === 'Победитель' ||\r\n        subRequest?.status === 'Принято' ||\r\n        subRequest?.status === 'Удалено'\r\n      ) ? (\r\n        <div className='fixed-action-btn toolbar' ref={btnRef}>\r\n          <a className='btn-floating btn-large light-blue darken-4 pulse'>\r\n            <i className='large material-icons'>mode_edit</i>\r\n          </a>\r\n          <ul>\r\n            <li>\r\n              <a>\r\n                <button\r\n                  className='waves-effect waves-light yellow darken-2 btn'\r\n                  onClick={() => {\r\n                    try {\r\n                      setStatus(\r\n                        request?.id!,\r\n                        subRequest?.id!,\r\n                        'Отправленно на доработку'\r\n                      )\r\n                      M.toast({\r\n                        html: '<span>Вы успешно выставили статус <strong>Отправленно на доработку</strong> !</span>',\r\n                        classes: 'light-blue darken-1',\r\n                      })\r\n                    } catch (e) {\r\n                      M.toast({\r\n                        html: `<span>Что-то пошло не так: <b>${e}</b></span>`,\r\n                        classes: 'red darken-4',\r\n                      })\r\n                    }\r\n                  }}\r\n                >\r\n                  Отправленно на доработку\r\n                </button>\r\n              </a>\r\n            </li>\r\n            <li>\r\n              <a>\r\n                <button\r\n                  className='waves-effect waves-light light-blue darken-3 btn'\r\n                  onClick={() => {\r\n                    try {\r\n                      setStatus(request?.id!, subRequest?.id!, 'Принято')\r\n                      M.toast({\r\n                        html: '<span>Вы успешно выставили статус <strong>Принято</strong> !</span>',\r\n                        classes: 'light-blue darken-1',\r\n                      })\r\n                    } catch (e) {\r\n                      M.toast({\r\n                        html: `<span>Что-то пошло не так: <b>${e}</b></span>`,\r\n                        classes: 'red darken-4',\r\n                      })\r\n                    }\r\n                  }}\r\n                >\r\n                  Принято\r\n                </button>\r\n              </a>\r\n            </li>\r\n            <li>\r\n              <a>\r\n                <button\r\n                  className='waves-effect waves-light teal darken-1 btn'\r\n                  onClick={() => {\r\n                    try {\r\n                      setStatus(request?.id!, subRequest?.id!, 'Победитель')\r\n                      M.toast({\r\n                        html: '<span>Вы успешно выставили статус <strong>Победитель</strong> !</span>',\r\n                        classes: 'light-blue darken-1',\r\n                      })\r\n                    } catch (e) {\r\n                      M.toast({\r\n                        html: `<span>Что-то пошло не так: <b>${e}</b></span>`,\r\n                        classes: 'red darken-4',\r\n                      })\r\n                    }\r\n                  }}\r\n                >\r\n                  Победитель\r\n                </button>\r\n              </a>\r\n            </li>\r\n          </ul>\r\n        </div>\r\n      ) : null}\r\n      <div style={{ height: 100 }}></div>\r\n    </>\r\n  )\r\n}\r\n","import React, { FC, useContext, useEffect, useRef, useState } from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport { AdminHeader } from '../../components/Header'\r\nimport { RequestContext } from '../../store/RequestContext'\r\nimport M from 'materialize-css'\r\n\r\nexport const AdminRequestListPage: FC = () => {\r\n  const { requests, nominations, statuses, companies, fetchRequests } =\r\n    useContext(RequestContext)\r\n\r\n  const [qs, setQs] = useState(requests)\r\n  const [fio, setFio] = useState('')\r\n  const select1 = useRef(null)\r\n  const select2 = useRef(null)\r\n  const select3 = useRef(null)\r\n\r\n  useEffect(() => {\r\n    if (!requests.length) fetchRequests()\r\n  }, [])\r\n\r\n  useEffect(() => {\r\n    M.FormSelect.init(select1.current!)\r\n    M.FormSelect.init(select2.current!)\r\n    M.FormSelect.init(select3.current!)\r\n    setQs(requests)\r\n  }, [requests.length])\r\n\r\n  const findClickHandler = () => {\r\n    setQs(\r\n      requests.filter(r => {\r\n        return r.fio.toLowerCase().indexOf(fio.toLowerCase()) + 1\r\n      })\r\n    )\r\n    setQs(\r\n      requests\r\n        .filter(r => {\r\n          return r.fio.toLowerCase().indexOf(fio.toLowerCase()) + 1\r\n        })\r\n        .map(r => ({\r\n          ...r,\r\n          subRequests: r.subRequests.filter(sr => {\r\n            const company_cond =\r\n              // @ts-ignore\r\n              select1.current.value != -1\r\n                ? // @ts-ignore\r\n                  sr.companyId == select1.current.value!\r\n                : true\r\n            const nomination_cond =\r\n              // @ts-ignore\r\n              select2.current.value! != -1\r\n                ? // @ts-ignore\r\n                  sr.nomination == select2.current.value!\r\n                : true\r\n            const status_cond =\r\n              // @ts-ignore\r\n              select3.current.value! != -1\r\n                ? // @ts-ignore\r\n                  sr.status == select3.current.value!\r\n                : true\r\n\r\n            return company_cond && nomination_cond && status_cond\r\n          }),\r\n        }))\r\n    )\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <AdminHeader />\r\n      <div className='container'>\r\n        <h1 className='space-between'>\r\n          Заявки <small>{requests.length} записи(ей)</small>\r\n        </h1>\r\n        <div className='row'>\r\n          <div className='input-field col s3'>\r\n            <input\r\n              id='fio'\r\n              type='text'\r\n              onChange={(event: React.ChangeEvent<HTMLInputElement>) =>\r\n                setFio(event.target.value)\r\n              }\r\n            />\r\n            <label htmlFor='fio'>ФИО</label>\r\n          </div>\r\n          <div className='col s3 input-field'>\r\n            <select ref={select1}>\r\n              <option value={-1}>Все компании</option>\r\n              {companies.map(c => {\r\n                return (\r\n                  <option value={c.id} key={c.id}>\r\n                    {c.name}\r\n                  </option>\r\n                )\r\n              })}\r\n            </select>\r\n            <label>Кампания</label>\r\n          </div>\r\n          <div className='col s3 input-field'>\r\n            <select ref={select2}>\r\n              <option value={-1}>Все наминации</option>\r\n              {nominations.map(n => {\r\n                return (\r\n                  <option value={n} key={n}>\r\n                    {n}\r\n                  </option>\r\n                )\r\n              })}\r\n            </select>\r\n            <label>Наминация</label>\r\n          </div>\r\n          <div className='col s3 input-field'>\r\n            <select ref={select3}>\r\n              <option value={-1}>Все статусы</option>\r\n              {statuses.map(s => {\r\n                return (\r\n                  <option value={s} key={s}>\r\n                    {s}\r\n                  </option>\r\n                )\r\n              })}\r\n            </select>\r\n            <label>Статус</label>\r\n          </div>\r\n          <button\r\n            className='waves-effect waves-light btn light-blue darken-2'\r\n            style={{ float: 'right' }}\r\n            onClick={findClickHandler}\r\n          >\r\n            <i className='material-icons right'>search</i>Поиск\r\n          </button>\r\n        </div>\r\n        <table className='striped responsive-table'>\r\n          <thead>\r\n            <tr>\r\n              <th>ФИО</th>\r\n              <th>Наминация</th>\r\n              <th>Институт</th>\r\n              <th>Направление</th>\r\n              <th>Обучение</th>\r\n              <th>Дата подачи</th>\r\n              <th>Статус</th>\r\n            </tr>\r\n          </thead>\r\n\r\n          <tbody>\r\n            {qs.map(r => {\r\n              return r.subRequests.map(sr => {\r\n                return (\r\n                  <tr key={sr.id}>\r\n                    <td>\r\n                      <Link to={`/admin/requests/${r.id}/${sr.id}/`}>\r\n                        {r.fio}\r\n                      </Link>\r\n                    </td>\r\n                    <td>{sr.nomination}</td>\r\n                    <td>{sr.institute}</td>\r\n                    <td>{sr.direction}</td>\r\n                    <td>{sr.educationForm}</td>\r\n                    <td>{sr.createdDate.toLocaleDateString()}</td>\r\n                    <td>{sr.status}</td>\r\n                  </tr>\r\n                )\r\n              })\r\n            })}\r\n          </tbody>\r\n        </table>\r\n      </div>\r\n    </>\r\n  )\r\n}\r\n","import React, { FC, useContext, useEffect, useRef, useState } from 'react'\r\nimport { AdminHeader } from '../../components/Header'\r\nimport { RequestContext } from '../../store/RequestContext'\r\nimport M from 'materialize-css'\r\n\r\nexport const NotificationListPage: FC = () => {\r\n  const { notifications, fetchRequests, removeNotification, addNotification } =\r\n    useContext(RequestContext)\r\n  const [message, setMessage] = useState('')\r\n  const messageRef = useRef(null)\r\n\r\n  const sendHandler = () => {\r\n    try {\r\n      addNotification(message)\r\n      setMessage('')\r\n\r\n      M.toast({\r\n        html: 'Вы успешно добавили объявление!',\r\n        classes: 'light-blue darken-1',\r\n      })\r\n    } catch (e) {\r\n      M.toast({\r\n        html: `<span>Что-то пошло не так: <b>${e}</b></span>`,\r\n        classes: 'red darken-4',\r\n      })\r\n    }\r\n  }\r\n  const removeHandler = (id: number) => {\r\n    try {\r\n      removeNotification(id)\r\n\r\n      M.toast({\r\n        html: 'Вы успешно удалили объявление!',\r\n        classes: 'light-blue darken-1',\r\n      })\r\n    } catch (e) {\r\n      M.toast({\r\n        html: `<span>Что-то пошло не так: <b>${e}</b></span>`,\r\n        classes: 'red darken-4',\r\n      })\r\n    }\r\n  }\r\n\r\n  useEffect(() => {\r\n    if (!notifications.length) fetchRequests()\r\n  }, [])\r\n\r\n  useEffect(() => {\r\n    M.CharacterCounter.init(messageRef.current!)\r\n  }, [notifications.length])\r\n\r\n  return (\r\n    <>\r\n      <AdminHeader />\r\n      <div className='container'>\r\n        <h1>Объявления</h1>\r\n        {notifications.map(n => (\r\n          <div className='toast light-blue darken-1' key={n.id}>\r\n            {n.text}\r\n            <a\r\n              className='btn-floating btn-large waves-effect waves-light red btn-small'\r\n              style={{ float: 'right' }}\r\n              onClick={() => removeHandler(n.id)}\r\n            >\r\n              <i className='material-icons'>delete</i>\r\n            </a>\r\n          </div>\r\n        ))}\r\n        <br />\r\n        <br />\r\n        <br />\r\n        <div className='input-field'>\r\n          <textarea\r\n            id='message'\r\n            className='materialize-textarea mt-4'\r\n            data-length='200'\r\n            value={message}\r\n            onChange={(event: React.ChangeEvent<HTMLTextAreaElement>) => {\r\n              if (message.length <= 200) setMessage(event.target.value)\r\n            }}\r\n            ref={messageRef}\r\n          ></textarea>\r\n          <label className='message'>Сообщение</label>\r\n        </div>\r\n        <button\r\n          className='btn light-blue darken-2 waves-effect waves-light'\r\n          style={{ float: 'right' }}\r\n          onClick={sendHandler}\r\n        >\r\n          <i className='material-icons left'>send</i>\r\n          Отправить\r\n        </button>\r\n      </div>\r\n    </>\r\n  )\r\n}\r\n","import React, { FC, useState, useContext } from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport { AuthContext } from '../../store/AuthContext'\r\n\r\nexport const StudentAuthPage: FC = () => {\r\n  const { login } = useContext(AuthContext)\r\n  const [authData, setAuthData] = useState<{\r\n    fio: string\r\n    password: string\r\n  }>({\r\n    fio: '',\r\n    password: '',\r\n  })\r\n\r\n  const loginHandler = () => {\r\n    login(\r\n      1,\r\n      authData.fio,\r\n      'https://avatars.mds.yandex.net/get-ott/374297/2a000001616b87458162c9216ccd5144e94d/678x380',\r\n      'student',\r\n      ['Матан', 'Высший матан']\r\n    )\r\n  }\r\n\r\n  return (\r\n    <div className='container'>\r\n      <h1>Авторизация</h1>\r\n      <div className='input-field'>\r\n        <input\r\n          id='fio'\r\n          type='text'\r\n          onChange={(event: React.ChangeEvent<HTMLInputElement>) =>\r\n            setAuthData(prev => ({\r\n              ...prev,\r\n              fio: event.target.value,\r\n            }))\r\n          }\r\n        />\r\n        <label htmlFor='fio'>Логин</label>\r\n      </div>\r\n      <div className='input-field'>\r\n        <input\r\n          id='fio'\r\n          type='password'\r\n          onChange={(event: React.ChangeEvent<HTMLInputElement>) =>\r\n            setAuthData(prev => ({\r\n              ...prev,\r\n              password: event.target.value,\r\n            }))\r\n          }\r\n        />\r\n        <label htmlFor='fio'>Пароль</label>\r\n      </div>\r\n      <button\r\n        className='btn light-blue darken-2 waves-effect waves-light'\r\n        style={{ float: 'right' }}\r\n        onClick={loginHandler}\r\n      >\r\n        <i className='material-icons left'>person</i>\r\n        Войти\r\n      </button>\r\n      <small>\r\n        <Link to='/admin/authentication/'>Я администратор</Link>\r\n      </small>\r\n    </div>\r\n  )\r\n}\r\n","import React, { FC, useContext, useEffect, useRef, useState } from 'react'\r\nimport { StudentHeader } from '../../components/Header'\r\nimport { AuthContext } from '../../store/AuthContext'\r\nimport { CompanyContext } from '../../store/CompanyContext'\r\nimport { RequestContext } from '../../store/RequestContext'\r\nimport M from 'materialize-css'\r\nimport { Link } from 'react-router-dom'\r\n\r\nexport const StudentCompanyListPage: FC = () => {\r\n  const { companies, fetchCompanies } = useContext(CompanyContext)\r\n  const { requests, nominations, notifications, fetchRequests, addRequest } =\r\n    useContext(RequestContext)\r\n  const { id, fio, learningPlans } = useContext(AuthContext)\r\n  const [companyData, setCompanyData] = useState<{\r\n    companyId: number\r\n    company: string\r\n  }>({ companyId: -1, company: '' })\r\n  const createModalRef = useRef(null)\r\n  const nominationRef = useRef(null)\r\n  const planRef = useRef(null)\r\n\r\n  const createClickHandler = (id: number, name: string) => {\r\n    setCompanyData(prev => ({ companyId: id, company: name }))\r\n    const i = M.Modal.getInstance(createModalRef.current!)\r\n    i.open()\r\n  }\r\n  const modalCreateClickHandler = () => {\r\n    // @ts-ignore\r\n    const p = planRef.current!.value\r\n    const n = getSelectValues(nominationRef.current!).join(' | ')\r\n    addRequest(\r\n      companyData.companyId,\r\n      id,\r\n      companyData.company,\r\n      n,\r\n      new Date(),\r\n      fio,\r\n      p\r\n    )\r\n  }\r\n\r\n  useEffect(() => {\r\n    if (!companies.length) fetchCompanies()\r\n    if (!requests.length) fetchRequests()\r\n  }, [])\r\n  useEffect(() => {\r\n    M.Modal.init(createModalRef.current!)\r\n    M.FormSelect.init(nominationRef.current!)\r\n    M.FormSelect.init(planRef.current!)\r\n  }, [companies.length, requests.length])\r\n\r\n  return (\r\n    <>\r\n      <StudentHeader />\r\n      <div className='container'>\r\n        {notifications.map(n => (\r\n          <div className='toast light-blue darken-1' key={n.id}>\r\n            {n.text}\r\n          </div>\r\n        ))}\r\n        <br />\r\n        <h1>Компании</h1>\r\n        <table className='mt-4 striped'>\r\n          <thead>\r\n            <tr>\r\n              <th>Название</th>\r\n              <th>Дата начала</th>\r\n              <th>Дата окончания</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            {companies.map(c => {\r\n              return (\r\n                <tr key={c.id}>\r\n                  <td>{c.name}</td>\r\n                  <td>{c.startDate.toLocaleDateString()}</td>\r\n                  <td>{c.endDate.toLocaleDateString()}</td>\r\n                  <td>\r\n                    {requests.filter(r => r.companyId === c.id).length ? (\r\n                      <Link\r\n                        className='btn-floating waves-effect waves-light light-blue darken-1'\r\n                        to={`/requests/${\r\n                          requests.find(\r\n                            r => r.companyId === c.id && r.studentId === id\r\n                          )?.id\r\n                        }`}\r\n                      >\r\n                        <i className='material-icons'>edit</i>\r\n                      </Link>\r\n                    ) : (\r\n                      <button\r\n                        className='btn-floating waves-effect waves-light light-blue darken-1'\r\n                        onClick={() => createClickHandler(c.id, c.name)}\r\n                      >\r\n                        <i className='material-icons'>add</i>\r\n                      </button>\r\n                    )}\r\n                  </td>\r\n                </tr>\r\n              )\r\n            })}\r\n          </tbody>\r\n        </table>\r\n      </div>\r\n      {/* create modal */}\r\n      <div ref={createModalRef} className='modal'>\r\n        <div className='modal-content'>\r\n          <h4>\r\n            Создать заявку на компанию \"<strong>{companyData.company}</strong>\"\r\n          </h4>\r\n          <div className='input-field' style={{ marginTop: 16 }}>\r\n            <select ref={planRef}>\r\n              {learningPlans.map(p => (\r\n                <option value={p} key={p}>\r\n                  {p}\r\n                </option>\r\n              ))}\r\n            </select>\r\n            <label>Учебный план</label>\r\n          </div>\r\n          <div className='input-field'>\r\n            <select multiple ref={nominationRef}>\r\n              {nominations.map(n => (\r\n                <option value={n} key={n}>\r\n                  {n}\r\n                </option>\r\n              ))}\r\n            </select>\r\n            <label>Наминация</label>\r\n          </div>\r\n        </div>\r\n        <div className='modal-footer'>\r\n          <button\r\n            className='btn light-blue darken-2 waves-effect waves-light'\r\n            onClick={modalCreateClickHandler}\r\n          >\r\n            <i className='material-icons left'>save</i>\r\n            Создать заявку\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </>\r\n  )\r\n}\r\n\r\nfunction getSelectValues(select: HTMLSelectElement) {\r\n  var result = []\r\n  var options = select && select.options\r\n  var opt\r\n\r\n  for (var i = 0, iLen = options.length; i < iLen; i++) {\r\n    opt = options[i]\r\n\r\n    if (opt.selected) {\r\n      result.push(opt.value || opt.text)\r\n    }\r\n  }\r\n  return result\r\n}\r\n","import React, { FC, useContext, useEffect, useRef, useState } from 'react'\r\nimport { useNavigate, useParams } from 'react-router-dom'\r\nimport { StudentHeader } from '../../components/Header'\r\nimport { RequestContext } from '../../store/RequestContext'\r\nimport { AuthContext } from '../../store/AuthContext'\r\nimport M from 'materialize-css'\r\n\r\nexport const StudentRequestDetailPage: FC = () => {\r\n  const { id1, id2 } = useParams()\r\n  const pointRef = useRef(null)\r\n  const messageRef = useRef(null)\r\n  const {\r\n    requests,\r\n    fetchRequests,\r\n    addComment,\r\n    setStudentExamPoints,\r\n    setStudentData,\r\n    addRow,\r\n  } = useContext(RequestContext)\r\n  const { fio, avatarUrl } = useContext(AuthContext)\r\n  const request = requests.find(r => r.id === Number(id1))\r\n  const subRequest = requests\r\n    .find(r => r.id === Number(id1))\r\n    ?.subRequests.find(sb => sb.id === Number(id2))\r\n  const [message, setMessage] = useState('')\r\n  const navigate = useNavigate()\r\n\r\n  if (request?.studentId !== Number(id1)) navigate('/companies/')\r\n\r\n  useEffect(() => {\r\n    if (!requests.length) fetchRequests()\r\n  }, [])\r\n  useEffect(() => {\r\n    M.CharacterCounter.init(messageRef.current!)\r\n\r\n    document.querySelectorAll('.tooltipped').forEach(el => {\r\n      const url = el.getAttribute('data-tooltip-img')\r\n      M.Tooltip.init(el, {\r\n        html: `<img src=\"${url}\" class=\"tooltip-img\" />`,\r\n      })\r\n    })\r\n  }, [requests])\r\n  useEffect(() => {\r\n    // @ts-ignore\r\n    pointRef.current!.focus()\r\n  }, [requests.length])\r\n\r\n  const sendHandler = () => {\r\n    try {\r\n      // fetch\r\n      addComment(request?.id!, subRequest?.id!, fio, avatarUrl, message)\r\n      setMessage('')\r\n      M.toast({\r\n        html: 'Вы успешно оставили коментарий!',\r\n        classes: 'light-blue darken-1',\r\n      })\r\n    } catch (e) {\r\n      M.toast({\r\n        html: `<span>Что-то пошло не так: <b>${e}</b></span>`,\r\n        classes: 'red darken-4',\r\n      })\r\n    }\r\n  }\r\n  const reqSaveHandler = () => {\r\n    try {\r\n      // fetch\r\n      M.toast({\r\n        html: 'Вы успешно сохранили изменения!',\r\n        classes: 'light-blue darken-1',\r\n      })\r\n    } catch (e) {\r\n      M.toast({\r\n        html: `<span>Что-то пошло не так: <b>${e}</b></span>`,\r\n        classes: 'red darken-4',\r\n      })\r\n    }\r\n  }\r\n  const reqSendHandler = () => {\r\n    try {\r\n      // fetch\r\n      M.toast({\r\n        html: 'Ваша заявка отправлена на рассмотрение!',\r\n        classes: 'light-blue darken-1',\r\n      })\r\n    } catch (e) {\r\n      M.toast({\r\n        html: `<span>Что-то пошло не так: <b>${e}</b></span>`,\r\n        classes: 'red darken-4',\r\n      })\r\n    }\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <StudentHeader />\r\n      <div className='container'>\r\n        <h3 className='mt-4'>Информация о заявлении</h3>\r\n        <table className='responsive-table'>\r\n          <thead>\r\n            <tr>\r\n              <th>Кампания</th>\r\n              <th>Наминация</th>\r\n              <th>Статус</th>\r\n              <th>Дата создания</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            <tr>\r\n              <td>{request?.company}</td>\r\n              <td>{subRequest?.nomination}</td>\r\n              <td>{subRequest?.status}</td>\r\n              <td>{subRequest?.createdDate.toLocaleDateString()}</td>\r\n            </tr>\r\n          </tbody>\r\n        </table>\r\n        <h3 className='mt-4'>Информация о студенте</h3>\r\n        <table className='striped responsive-table'>\r\n          <thead>\r\n            <tr>\r\n              <th>ФИО</th>\r\n              <th>Телефон</th>\r\n              <th>Статус</th>\r\n              <th>Институт</th>\r\n              <th>Направление</th>\r\n              <th>Форма обучения</th>\r\n              <th>Источник финансирования</th>\r\n              <th>Уровень</th>\r\n              <th>Курс</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            <tr>\r\n              <td>{request?.fio}</td>\r\n              <td>{subRequest?.phone}</td>\r\n              <td>{subRequest?.status}</td>\r\n              <td>{subRequest?.institute}</td>\r\n              <td>{subRequest?.direction}</td>\r\n              <td>{subRequest?.educationForm}</td>\r\n              <td>{subRequest?.financingSource}</td>\r\n              <td>{subRequest?.level}</td>\r\n              <td>{subRequest?.course}</td>\r\n            </tr>\r\n          </tbody>\r\n        </table>\r\n        <h3 className='mt-4'>Оценки</h3>\r\n        <div>\r\n          <small>Процент \"{subRequest?.percent}\"</small>\r\n          <input\r\n            type='text'\r\n            value={subRequest?.examPoints}\r\n            onKeyPress={event => {\r\n              if (!/[0-9]/.test(event.key)) {\r\n                event.preventDefault()\r\n              }\r\n            }}\r\n            onChange={(event: React.ChangeEvent<HTMLInputElement>) =>\r\n              setStudentExamPoints(\r\n                request?.id!,\r\n                subRequest?.id!,\r\n                Number(event.target.value)\r\n              )\r\n            }\r\n          />\r\n          <div className='input-field'>\r\n            <input\r\n              type='text'\r\n              id='point'\r\n              ref={pointRef}\r\n              value={subRequest?.point}\r\n              style={{ maxWidth: 'fit-content' }}\r\n            />\r\n            <label htmlFor='point'>Балл</label>\r\n          </div>\r\n        </div>\r\n        <h3 className='mt-4'>\r\n          Таблицы\r\n          <a\r\n            className='btn-floating btn-large waves-effect waves-light red btn-small light-blue darken-1'\r\n            style={{ float: 'right' }}\r\n            onClick={() => addRow(request?.id!, subRequest!.id)}\r\n          >\r\n            <i className='material-icons'>add</i>\r\n          </a>\r\n        </h3>\r\n        <table className='responsive-table'>\r\n          <thead>\r\n            <tr>\r\n              {subRequest?.tables.header.map((h, hIdx) => (\r\n                <th key={hIdx}>{h}</th>\r\n              ))}\r\n              <th>Баллы</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            {subRequest?.tables.body.map((r, rIdx) => {\r\n              return (\r\n                <tr key={rIdx}>\r\n                  {r.data.map((b, bIdx) => {\r\n                    try {\r\n                      if (b !== 'Документ') new URL(b)\r\n\r\n                      return (\r\n                        <td key={bIdx}>\r\n                          <div\r\n                            style={{\r\n                              display: 'flex',\r\n                              flexDirection: 'column',\r\n                            }}\r\n                          >\r\n                            <div className='file-field input-field'>\r\n                              <div className='waves-effect waves-light btn light-blue darken-1'>\r\n                                <span>\r\n                                  <i className='material-icons'>\r\n                                    insert_drive_file\r\n                                  </i>\r\n                                </span>\r\n                                <input\r\n                                  type='file'\r\n                                  onChange={(\r\n                                    event: React.ChangeEvent<HTMLInputElement>\r\n                                  ) => {\r\n                                    try {\r\n                                      /*\r\n                                            send file to server and get path url from response\r\n                                            then set this url to data\r\n                                          */\r\n                                      setStudentData(\r\n                                        request!.id,\r\n                                        subRequest.id,\r\n                                        rIdx,\r\n                                        bIdx,\r\n                                        'https://купитьшахматы.рф/wa-data/public/shop/products/16/04/416/images/1565/gramota-shahmatnaja-2.970.jpg' // replace with server url\r\n                                      )\r\n                                    } catch (e) {\r\n                                      M.toast({\r\n                                        html: `<span>Что-то пошло не так: <b>${e}</b></span>`,\r\n                                        classes: 'red darken-4',\r\n                                      })\r\n                                    }\r\n                                  }}\r\n                                />\r\n                              </div>\r\n                              <div className='file-path-wrapper'>\r\n                                <input\r\n                                  className='file-path validate'\r\n                                  style={{ maxWidth: 'fit-content' }}\r\n                                  type='text'\r\n                                />\r\n                              </div>\r\n                            </div>\r\n                            <a\r\n                              href={b}\r\n                              target='_blank'\r\n                              className='tooltipped'\r\n                              data-position='top'\r\n                              data-tooltip-img={b}\r\n                              style={{ width: 'fit-content' }}\r\n                            >\r\n                              Текущий документ\r\n                            </a>\r\n                          </div>\r\n                        </td>\r\n                      )\r\n                    } catch (e) {\r\n                      return (\r\n                        <td key={bIdx}>\r\n                          <input\r\n                            type='text'\r\n                            style={{ maxWidth: 'fit-content' }}\r\n                            value={b}\r\n                            onChange={(\r\n                              event: React.ChangeEvent<HTMLInputElement>\r\n                            ) =>\r\n                              setStudentData(\r\n                                request!.id,\r\n                                subRequest.id,\r\n                                rIdx,\r\n                                bIdx,\r\n                                event.target.value\r\n                              )\r\n                            }\r\n                          />\r\n                        </td>\r\n                      )\r\n                    }\r\n                  })}\r\n                  <td>\r\n                    {/* <input\r\n                      type='text'\r\n                      value={r.points}\r\n                      style={{ maxWidth: 'fit-content' }}\r\n                      key={'input' + rIdx}\r\n                    /> */}\r\n                    <strong style={{ fontSize: 18 }}>{r.points}</strong>\r\n                  </td>\r\n                </tr>\r\n              )\r\n            })}\r\n          </tbody>\r\n        </table>\r\n\r\n        <div\r\n          style={{\r\n            float: 'right',\r\n            display: 'flex',\r\n            flexDirection: 'row',\r\n            marginTop: 36,\r\n          }}\r\n        >\r\n          <div className='btn-container'>\r\n            <button\r\n              className='btn light-blue darken-2 waves-effect waves-light'\r\n              onClick={reqSaveHandler}\r\n            >\r\n              <i className='material-icons left'>save</i>\r\n              Сохранить\r\n            </button>\r\n            <button\r\n              className='btn light-blue darken-2 waves-effect waves-light'\r\n              style={{ marginLeft: 12 }}\r\n              onClick={reqSendHandler}\r\n            >\r\n              <i className='material-icons left'>send</i>\r\n              Отправить\r\n            </button>\r\n          </div>\r\n        </div>\r\n        <h3 className='mt-4'>Коментарии</h3>\r\n        <div>\r\n          {subRequest?.comments.map((c, idx) => {\r\n            return (\r\n              <div key={idx} className='comment'>\r\n                <div className='avatar'>\r\n                  <img src={c.imageUrl} alt='avatar' />\r\n                  <span>{c.name}</span>\r\n                </div>\r\n                <p>{c.text}</p>\r\n                <small>{c.sendedDate.toLocaleString()}</small>\r\n              </div>\r\n            )\r\n          })}\r\n        </div>\r\n        <div className='input-field'>\r\n          <textarea\r\n            id='message'\r\n            className='materialize-textarea mt-4'\r\n            data-length='1000'\r\n            value={message}\r\n            onChange={(event: React.ChangeEvent<HTMLTextAreaElement>) => {\r\n              if (message.length <= 1000) setMessage(event.target.value)\r\n            }}\r\n            ref={messageRef}\r\n          ></textarea>\r\n          <label className='message'>Сообщение</label>\r\n        </div>\r\n        <button\r\n          className='btn light-blue darken-2 waves-effect waves-light'\r\n          style={{ float: 'right' }}\r\n          onClick={sendHandler}\r\n        >\r\n          <i className='material-icons left'>send</i>\r\n          Отправить\r\n        </button>\r\n      </div>\r\n      <div style={{ height: 100 }}></div>\r\n    </>\r\n  )\r\n}\r\n","import React, { FC, useContext, useEffect } from 'react'\r\nimport { StudentHeader } from '../../components/Header'\r\nimport { Link, useNavigate, useParams } from 'react-router-dom'\r\nimport { RequestContext } from '../../store/RequestContext'\r\n\r\nexport const StudentSubRequestDetailPage: FC = () => {\r\n  const { id } = useParams()\r\n  const { requests, fetchRequests } = useContext(RequestContext)\r\n  const request = requests.find(r => r.id === Number(id))\r\n  const navigate = useNavigate()\r\n\r\n  if (request?.studentId !== Number(id)) navigate('/companies/')\r\n\r\n  useEffect(() => {\r\n    if (!requests.length) fetchRequests()\r\n  }, [])\r\n\r\n  return (\r\n    <>\r\n      <StudentHeader />\r\n      <div className='container'>\r\n        <table className='mt-4 striped'>\r\n          <thead>\r\n            <tr>\r\n              <th>Наминация</th>\r\n              <th>Институт</th>\r\n              <th>Направление</th>\r\n              <th>Курс</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            {request?.subRequests.map(sr => {\r\n              return (\r\n                <tr key={sr.id}>\r\n                  <td>{sr.nomination}</td>\r\n                  <td>{sr.institute}</td>\r\n                  <td>{sr.direction}</td>\r\n                  <td>{sr.course}</td>\r\n                  <td>\r\n                    <Link\r\n                      className='btn-floating waves-effect waves-light light-blue darken-1'\r\n                      to={`/requests/${request.id}/${sr.id}/`}\r\n                    >\r\n                      <i className='material-icons'>edit</i>\r\n                    </Link>\r\n                  </td>\r\n                </tr>\r\n              )\r\n            })}\r\n          </tbody>\r\n        </table>\r\n      </div>\r\n    </>\r\n  )\r\n}\r\n","import React, { useContext } from 'react'\nimport { useRouter } from './hooks/useRouter'\n\nfunction App() {\n  const routes = useRouter()\n\n  return <>{routes}</>\n}\n\nexport default App\n","import React, { useContext } from 'react'\r\nimport { BrowserRouter, Routes, Route, Navigate } from 'react-router-dom'\r\nimport { AdminAuthPage } from '../pages/admin/AdminAuthPage'\r\nimport { AdminCompanyListPage } from '../pages/admin/AdminCompanyListPage'\r\nimport { AdminRequestDetailPage } from '../pages/admin/AdminRequestDetailPage'\r\nimport { AdminRequestListPage } from '../pages/admin/AdminRequestListPage'\r\nimport { NotificationListPage } from '../pages/admin/NotificationListPage'\r\nimport { StudentAuthPage } from '../pages/student/StudentAuthPage'\r\nimport { StudentCompanyListPage } from '../pages/student/StudentCompanyListPage'\r\nimport { StudentRequestDetailPage } from '../pages/student/StudentRequestDetailPage'\r\nimport { StudentSubRequestDetailPage } from '../pages/student/StudentSubRequestDetailPage'\r\nimport { AuthContext } from '../store/AuthContext'\r\n\r\nexport const useRouter = () => {\r\n  const { role } = useContext(AuthContext)\r\n\r\n  if (role === 'admin')\r\n    return (\r\n      <BrowserRouter>\r\n        <Routes>\r\n          <Route\r\n            path='/admin/notifications/'\r\n            element={<NotificationListPage />}\r\n          />\r\n          <Route path='/admin/companies/' element={<AdminCompanyListPage />} />\r\n          <Route path='/admin/requests/' element={<AdminRequestListPage />} />\r\n          <Route\r\n            path='/admin/requests/:id1/:id2/'\r\n            element={<AdminRequestDetailPage />}\r\n          />\r\n          <Route path='*' element={<Navigate to='/admin/companies/' />} />\r\n        </Routes>\r\n      </BrowserRouter>\r\n    )\r\n  if (role === 'student') {\r\n    return (\r\n      <BrowserRouter>\r\n        <Routes>\r\n          <Route path='/companies/' element={<StudentCompanyListPage />} />\r\n          <Route\r\n            path='/requests/:id/'\r\n            element={<StudentSubRequestDetailPage />}\r\n          />\r\n          <Route\r\n            path='/requests/:id1/:id2/'\r\n            element={<StudentRequestDetailPage />}\r\n          />\r\n          <Route path='*' element={<Navigate to='/companies/' />} />\r\n        </Routes>\r\n      </BrowserRouter>\r\n    )\r\n  }\r\n  if (role === 'anonymous')\r\n    return (\r\n      <BrowserRouter>\r\n        <Routes>\r\n          <Route path='/authentication/' element={<StudentAuthPage />} />\r\n          <Route path='/admin/authentication/' element={<AdminAuthPage />} />\r\n          <Route path='*' element={<Navigate to='/authentication/' />} />\r\n        </Routes>\r\n      </BrowserRouter>\r\n    )\r\n}\r\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport './index.css'\nimport { CompanyProvider } from './store/CompanyContext'\nimport { RequestProvider } from './store/RequestContext'\nimport { AuthProvider } from './store/AuthContext'\nimport App from './App'\n\nReactDOM.render(\n  <CompanyProvider>\n    <RequestProvider>\n      <AuthProvider>\n        <App />\n      </AuthProvider>\n    </RequestProvider>\n  </CompanyProvider>,\n  document.getElementById('root')\n)\n"],"sourceRoot":""}